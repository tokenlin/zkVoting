const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./index-DKV6A8FB.js","./index-CS_gvZ8j.js","./index-C41VBilK.css"])))=>i.map(i=>d[i]);
import{_ as ee}from"./index-CS_gvZ8j.js";const te=Symbol(),q=Object.getPrototypeOf,H=new WeakMap,se=e=>e&&(H.has(e)?H.get(e):q(e)===Object.prototype||q(e)===Array.prototype),oe=e=>se(e)&&e[te]||null,F=(e,t=!0)=>{H.set(e,t)},j={BASE_URL:"./",DEV:!1,MODE:"production",PROD:!0,SSR:!1},K=e=>typeof e=="object"&&e!==null,_=new WeakMap,k=new WeakSet,ne=(e=Object.is,t=(o,C)=>new Proxy(o,C),n=o=>K(o)&&!k.has(o)&&(Array.isArray(o)||!(Symbol.iterator in o))&&!(o instanceof WeakMap)&&!(o instanceof WeakSet)&&!(o instanceof Error)&&!(o instanceof Number)&&!(o instanceof Date)&&!(o instanceof String)&&!(o instanceof RegExp)&&!(o instanceof ArrayBuffer),i=o=>{switch(o.status){case"fulfilled":return o.value;case"rejected":throw o.reason;default:throw o}},d=new WeakMap,f=(o,C,W=i)=>{const p=d.get(o);if((p==null?void 0:p[0])===C)return p[1];const m=Array.isArray(o)?[]:Object.create(Object.getPrototypeOf(o));return F(m,!0),d.set(o,[C,m]),Reflect.ownKeys(o).forEach(M=>{if(Object.getOwnPropertyDescriptor(m,M))return;const g=Reflect.get(o,M),O={value:g,enumerable:!0,configurable:!0};if(k.has(g))F(g,!1);else if(g instanceof Promise)delete O.value,O.get=()=>W(g);else if(_.has(g)){const[h,B]=_.get(g);O.value=f(h,B(),W)}Object.defineProperty(m,M,O)}),Object.preventExtensions(m)},b=new WeakMap,v=[1,1],V=o=>{if(!K(o))throw new Error("object required");const C=b.get(o);if(C)return C;let W=v[0];const p=new Set,m=(a,r=++v[0])=>{W!==r&&(W=r,p.forEach(s=>s(a,r)))};let M=v[1];const g=(a=++v[1])=>(M!==a&&!p.size&&(M=a,h.forEach(([r])=>{const s=r[1](a);s>W&&(W=s)})),W),O=a=>(r,s)=>{const u=[...r];u[1]=[a,...u[1]],m(u,s)},h=new Map,B=(a,r)=>{if((j?"production":void 0)!=="production"&&h.has(a))throw new Error("prop listener already exists");if(p.size){const s=r[3](O(a));h.set(a,[r,s])}else h.set(a,[r])},J=a=>{var r;const s=h.get(a);s&&(h.delete(a),(r=s[1])==null||r.call(s))},Y=a=>(p.add(a),p.size===1&&h.forEach(([s,u],P)=>{if((j?"production":void 0)!=="production"&&u)throw new Error("remove already exists");const D=s[3](O(P));h.set(P,[s,D])}),()=>{p.delete(a),p.size===0&&h.forEach(([s,u],P)=>{u&&(u(),h.set(P,[s]))})}),$=Array.isArray(o)?[]:Object.create(Object.getPrototypeOf(o)),T=t($,{deleteProperty(a,r){const s=Reflect.get(a,r);J(r);const u=Reflect.deleteProperty(a,r);return u&&m(["delete",[r],s]),u},set(a,r,s,u){const P=Reflect.has(a,r),D=Reflect.get(a,r,u);if(P&&(e(D,s)||b.has(s)&&e(D,b.get(s))))return!0;J(r),K(s)&&(s=oe(s)||s);let N=s;if(s instanceof Promise)s.then(I=>{s.status="fulfilled",s.value=I,m(["resolve",[r],I])}).catch(I=>{s.status="rejected",s.reason=I,m(["reject",[r],I])});else{!_.has(s)&&n(s)&&(N=V(s));const I=!k.has(N)&&_.get(N);I&&B(r,I)}return Reflect.set(a,r,N,u),m(["set",[r],s,D]),!0}});b.set(o,T);const Z=[$,g,f,Y];return _.set(T,Z),Reflect.ownKeys(o).forEach(a=>{const r=Object.getOwnPropertyDescriptor(o,a);"value"in r&&(T[a]=o[a],delete r.value,delete r.writable),Object.defineProperty($,a,r)}),T})=>[V,_,k,e,t,n,i,d,f,b,v],[re]=ne();function L(e={}){return re(e)}function A(e,t,n){const i=_.get(e);(j?"production":void 0)!=="production"&&!i&&console.warn("Please use proxy object");let d;const f=[],b=i[3];let v=!1;const o=b(C=>{f.push(C),d||(d=Promise.resolve().then(()=>{d=void 0,v&&t(f.splice(0))}))});return v=!0,()=>{v=!1,o()}}function ie(e,t){const n=_.get(e);(j?"production":void 0)!=="production"&&!n&&console.warn("Please use proxy object");const[i,d,f]=n;return f(i,d(),t)}const l=L({history:["ConnectWallet"],view:"ConnectWallet",data:void 0}),X={state:l,subscribe(e){return A(l,()=>e(l))},push(e,t){e!==l.view&&(l.view=e,t&&(l.data=t),l.history.push(e))},reset(e){l.view=e,l.history=[e]},replace(e){l.history.length>1&&(l.history[l.history.length-1]=e,l.view=e)},goBack(){if(l.history.length>1){l.history.pop();const[e]=l.history.slice(-1);l.view=e}},setData(e){l.data=e}},y={WALLETCONNECT_DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",WCM_VERSION:"WCM_VERSION",RECOMMENDED_WALLET_AMOUNT:9,isMobile(){return typeof window<"u"?!!(window.matchMedia("(pointer:coarse)").matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},isAndroid(){return y.isMobile()&&navigator.userAgent.toLowerCase().includes("android")},isIos(){const e=navigator.userAgent.toLowerCase();return y.isMobile()&&(e.includes("iphone")||e.includes("ipad"))},isHttpUrl(e){return e.startsWith("http://")||e.startsWith("https://")},isArray(e){return Array.isArray(e)&&e.length>0},isTelegram(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)},formatNativeUrl(e,t,n){if(y.isHttpUrl(e))return this.formatUniversalUrl(e,t,n);let i=e;i.includes("://")||(i=e.replaceAll("/","").replaceAll(":",""),i=`${i}://`),i.endsWith("/")||(i=`${i}/`),this.setWalletConnectDeepLink(i,n);const d=encodeURIComponent(t);return`${i}wc?uri=${d}`},formatUniversalUrl(e,t,n){if(!y.isHttpUrl(e))return this.formatNativeUrl(e,t,n);let i=e;if(i.startsWith("https://t.me")){const f=Buffer.from(t).toString("base64").replace(/[=]/g,"");i.endsWith("/")&&(i=i.slice(0,-1)),this.setWalletConnectDeepLink(i,n);const b=new URL(i);return b.searchParams.set("startapp",f),b.toString()}i.endsWith("/")||(i=`${i}/`),this.setWalletConnectDeepLink(i,n);const d=encodeURIComponent(t);return`${i}wc?uri=${d}`},async wait(e){return new Promise(t=>{setTimeout(t,e)})},openHref(e,t){const n=this.isTelegram()?"_blank":t;window.open(e,n,"noreferrer noopener")},setWalletConnectDeepLink(e,t){try{localStorage.setItem(y.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:e,name:t}))}catch{console.info("Unable to set WalletConnect deep link")}},setWalletConnectAndroidDeepLink(e){try{const[t]=e.split("?");localStorage.setItem(y.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:t,name:"Android"}))}catch{console.info("Unable to set WalletConnect android deep link")}},removeWalletConnectDeepLink(){try{localStorage.removeItem(y.WALLETCONNECT_DEEPLINK_CHOICE)}catch{console.info("Unable to remove WalletConnect deep link")}},setModalVersionInStorage(){try{typeof localStorage<"u"&&localStorage.setItem(y.WCM_VERSION,"2.7.0")}catch{console.info("Unable to set Web3Modal version in storage")}},getWalletRouterData(){var e;const t=(e=X.state.data)==null?void 0:e.Wallet;if(!t)throw new Error('Missing "Wallet" view data');return t}},ae=typeof location<"u"&&(location.hostname.includes("localhost")||location.protocol.includes("https")),c=L({enabled:ae,userSessionId:"",events:[],connectedWalletId:void 0}),le={state:c,subscribe(e){return A(c.events,()=>e(ie(c.events[c.events.length-1])))},initialize(){c.enabled&&typeof(crypto==null?void 0:crypto.randomUUID)<"u"&&(c.userSessionId=crypto.randomUUID())},setConnectedWalletId(e){c.connectedWalletId=e},click(e){if(c.enabled){const t={type:"CLICK",name:e.name,userSessionId:c.userSessionId,timestamp:Date.now(),data:e};c.events.push(t)}},track(e){if(c.enabled){const t={type:"TRACK",name:e.name,userSessionId:c.userSessionId,timestamp:Date.now(),data:e};c.events.push(t)}},view(e){if(c.enabled){const t={type:"VIEW",name:e.name,userSessionId:c.userSessionId,timestamp:Date.now(),data:e};c.events.push(t)}}},w=L({chains:void 0,walletConnectUri:void 0,isAuth:!1,isCustomDesktop:!1,isCustomMobile:!1,isDataLoaded:!1,isUiLoaded:!1}),E={state:w,subscribe(e){return A(w,()=>e(w))},setChains(e){w.chains=e},setWalletConnectUri(e){w.walletConnectUri=e},setIsCustomDesktop(e){w.isCustomDesktop=e},setIsCustomMobile(e){w.isCustomMobile=e},setIsDataLoaded(e){w.isDataLoaded=e},setIsUiLoaded(e){w.isUiLoaded=e},setIsAuth(e){w.isAuth=e}},R=L({projectId:"",mobileWallets:void 0,desktopWallets:void 0,walletImages:void 0,chains:void 0,enableAuthMode:!1,enableExplorer:!0,explorerExcludedWalletIds:void 0,explorerRecommendedWalletIds:void 0,termsOfServiceUrl:void 0,privacyPolicyUrl:void 0}),ce={state:R,subscribe(e){return A(R,()=>e(R))},setConfig(e){var t,n;le.initialize(),E.setChains(e.chains),E.setIsAuth(!!e.enableAuthMode),E.setIsCustomMobile(!!((t=e.mobileWallets)!=null&&t.length)),E.setIsCustomDesktop(!!((n=e.desktopWallets)!=null&&n.length)),y.setModalVersionInStorage(),Object.assign(R,e)}};y.isMobile();L({wallets:{listings:[],total:0,page:1},search:{listings:[],total:0,page:1},recomendedWallets:[]});const S=L({open:!1}),z={state:S,subscribe(e){return A(S,()=>e(S))},async open(e){return new Promise(t=>{const{isUiLoaded:n,isDataLoaded:i}=E.state;if(y.removeWalletConnectDeepLink(),E.setWalletConnectUri(e==null?void 0:e.uri),E.setChains(e==null?void 0:e.chains),X.reset("ConnectWallet"),n&&i)S.open=!0,t();else{const d=setInterval(()=>{const f=E.state;f.isUiLoaded&&f.isDataLoaded&&(clearInterval(d),S.open=!0,t())},200)}})},close(){S.open=!1}};var de=Object.defineProperty,x=Object.getOwnPropertySymbols,ue=Object.prototype.hasOwnProperty,fe=Object.prototype.propertyIsEnumerable,G=(e,t,n)=>t in e?de(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,he=(e,t)=>{for(var n in t||(t={}))ue.call(t,n)&&G(e,n,t[n]);if(x)for(var n of x(t))fe.call(t,n)&&G(e,n,t[n]);return e};function pe(){return typeof matchMedia<"u"&&matchMedia("(prefers-color-scheme: dark)").matches}const U=L({themeMode:pe()?"dark":"light"}),Q={state:U,subscribe(e){return A(U,()=>e(U))},setThemeConfig(e){const{themeMode:t,themeVariables:n}=e;t&&(U.themeMode=t),n&&(U.themeVariables=he({},n))}};L({open:!1,message:"",variant:"success"});class me{constructor(t){this.openModal=z.open,this.closeModal=z.close,this.subscribeModal=z.subscribe,this.setTheme=Q.setThemeConfig,Q.setThemeConfig(t),ce.setConfig(t),this.initUi()}async initUi(){if(typeof window<"u"){await ee(()=>import("./index-DKV6A8FB.js"),__vite__mapDeps([0,1,2]),import.meta.url);const t=document.createElement("wcm-modal");document.body.insertAdjacentElement("beforeend",t),E.setIsUiLoaded(!0)}}}const ve=Object.freeze(Object.defineProperty({__proto__:null,WalletConnectModal:me},Symbol.toStringTag,{value:"Module"}));export{ie as a,ve as i,L as p,A as s};
